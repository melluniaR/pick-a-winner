export type Language = "en" | "sv";

type Translations = Record<Language, Record<string, string>>;

export const translations: Translations = {
  en: {
    app_name: "Pick a Winner",
    camp_prediction_game: "Camp prediction game",
    sign_in: "Sign in",
    sign_up: "Create account",
    email: "Email",
    password: "Password",
    remember_me: "Remember me",
    sessions_persist: "Signed-in sessions stay active across days on this device.",
    loading: "Loading...",
    redirecting: "Redirecting...",
    save: "Save",
    saving: "Saving...",
    display_name: "Display name",
    set_display_name: "Set your display name",
    display_name_description:
      "This name is shown with your aliases on the leaderboard and must be unique.",
    display_name_required: "Display name is required.",
    display_name_needed_join: "Set your display name before joining a game.",
    display_name_needed_create: "Set your display name before creating a game.",
    enter_game_code: "Enter join code",
    join_game: "Join game",
    create_game: "Create new game",
    game_name: "Game name",
    my_games: "My games",
    enter_game: "Enter game",
    loading_games: "Loading games...",
    no_games: "No games yet. Create or join one to get started.",
    join_code_label: "Join code",
    game_label: "Game",
    all_games: "All games",
    active_count: "{{count}} active",
    alias_voted: "voted",
    create_alias: "Create alias",
    alias_name: "Alias name",
    alias_fallback: "Alias",
    my_aliases: "My aliases",
    active_round: "Active round",
    round_fallback: "Round",
    waiting_round: "Waiting for the next round",
    waiting_round_description:
      "The host will open the next round soon. Keep your aliases ready for fast voting.",
    hint: "Hint",
    select_aliases: "Select aliases",
    choose_option: "Choose an option",
    apply_vote: "Apply vote",
    select_alias_first: "Select an alias first.",
    vote_applied: "Vote applied",
    leaderboard: "Leaderboard",
    no_scores: "No scores yet.",
    correct_count: "{{count}} correct",
    host_controls: "Host controls",
    player_view: "Player view",
    open_round: "Open round",
    score_round: "Score round",
    select_correct_option: "Select the correct option.",
    confirm_score_round: "Score this round now? This will update the leaderboard.",
    confirm_end_game: "End this game now? This will close any open round.",
    correct_option: "Correct option",
    round_options: "Options",
    create_round: "Create round",
    round_title: "Round title",
    round_hint: "Round hint",
    add_option: "Add option",
    add_options_error: "Add at least two options.",
    remove_option: "Remove",
    save_round: "Save round",
    total_votes: "Total votes",
    live_distribution: "Live distribution",
    display_screen: "Display screen",
    view_display: "Game display",
    view_display_description: "Enter a join code to open the game display.",
    live_display: "Live display",
    voting_live: "Voting live",
    standings: "Standings",
    top_count: "Top {{count}}",
    exit_display: "Exit display",
    unable_load_display: "Unable to load display state.",
    loading_display: "Loading display...",
    votes_label: "{{count}} votes",
    votes_with_percentage: "{{count}} votes ({{percentage}}%)",
    join_code_required: "Join code is required.",
    display_code_invalid: "No game found for that join code.",
    end_game: "End game",
    ended_at: "Ended {{date}}",
    rounds: "Rounds",
    total_rounds: "{{count}} total",
    round_number: "Round {{number}}",
    untitled: "Untitled",
    final_scorecard: "Final scorecard",
    aliases_count: "{{count}} aliases",
    correct_picks: "{{count}} correct picks",
    points_short: "{{count}} pts",
    status_draft: "DRAFT",
    status_open: "OPEN",
    status_closed: "CLOSED",
    status_scored: "SCORED",
    status_active: "ACTIVE",
    status_ended: "ENDED",
    role_host: "HOST",
    role_player: "PLAYER",
    live_camp_rounds: "Live camp rounds",
    live_camp_description:
      "Make fast predictions for multiple aliases, watch the live vote distribution, and see the leaderboard update in real time across the whole camp.",
    stat_players: "50-150 players on one scoreboard",
    stat_rolling_rounds: "Rolling rounds with no visible history",
    stat_display_token: "Separate public display token for big screens",
    powered_by_realtime: "Powered by Supabase Realtime",
    sign_out: "Sign out",
    language: "Language",
  },
  sv: {
    app_name: "Pick a Winner",
    camp_prediction_game: "Lägerprognosspel",
    sign_in: "Logga in",
    sign_up: "Skapa konto",
    email: "E-post",
    password: "Lösenord",
    remember_me: "Kom ihåg mig",
    sessions_persist: "Inloggade sessioner sparas i flera dagar på den här enheten.",
    loading: "Laddar...",
    redirecting: "Omdirigerar...",
    save: "Spara",
    saving: "Sparar...",
    display_name: "Visningsnamn",
    set_display_name: "Ange ditt visningsnamn",
    display_name_description:
      "Namnet visas tillsammans med dina alias på topplistan och måste vara unikt.",
    display_name_required: "Visningsnamn krävs.",
    display_name_needed_join: "Ange ditt visningsnamn innan du går med i ett spel.",
    display_name_needed_create: "Ange ditt visningsnamn innan du skapar ett spel.",
    enter_game_code: "Ange kod",
    join_game: "Gå med i spel",
    create_game: "Skapa nytt spel",
    game_name: "Spelnamn",
    my_games: "Mina spel",
    enter_game: "Gå till spel",
    loading_games: "Laddar spel...",
    no_games: "Inga spel ännu. Skapa eller gå med för att komma igång.",
    join_code_label: "Kod",
    game_label: "Spel",
    all_games: "Alla spel",
    active_count: "{{count}} aktiva",
    alias_voted: "röstat",
    create_alias: "Skapa alias",
    alias_name: "Aliasnamn",
    alias_fallback: "Alias",
    my_aliases: "Mina alias",
    active_round: "Aktiv runda",
    round_fallback: "Runda",
    waiting_round: "Väntar på nästa runda",
    waiting_round_description:
      "Värden öppnar nästa runda snart. Ha dina alias redo för snabb röstning.",
    hint: "Ledtråd",
    select_aliases: "Välj alias",
    choose_option: "Välj alternativ",
    apply_vote: "Lägg röst",
    select_alias_first: "Välj ett alias först.",
    vote_applied: "Röst registrerad",
    leaderboard: "Topplista",
    no_scores: "Inga poäng ännu.",
    correct_count: "{{count}} rätt",
    host_controls: "Värdkontroller",
    player_view: "Spelarvy",
    open_round: "Öppna runda",
    score_round: "Räkna poäng",
    select_correct_option: "Välj rätt alternativ.",
    confirm_score_round: "Räkna poäng nu? Detta uppdaterar topplistan.",
    confirm_end_game: "Avsluta spelet nu? Detta stänger en öppen runda.",
    correct_option: "Rätt svar",
    round_options: "Alternativ",
    create_round: "Skapa runda",
    round_title: "Rundans titel",
    round_hint: "Rundans ledtråd",
    add_option: "Lägg till alternativ",
    add_options_error: "Lägg till minst två alternativ.",
    remove_option: "Ta bort",
    save_round: "Spara runda",
    total_votes: "Totalt antal röster",
    live_distribution: "Livefördelning",
    display_screen: "Publikvy",
    view_display: "Spelvisning",
    view_display_description: "Ange en kod för att öppna spelvisningen.",
    live_display: "Publikvy",
    voting_live: "Röstning pågår",
    standings: "Ställning",
    top_count: "Topp {{count}}",
    exit_display: "Lämna vy",
    unable_load_display: "Kunde inte ladda visningen.",
    loading_display: "Laddar visning...",
    votes_label: "{{count}} röster",
    votes_with_percentage: "{{count}} röster ({{percentage}}%)",
    join_code_required: "Kod krävs.",
    display_code_invalid: "Ingen spel hittades för den koden.",
    end_game: "Avsluta spel",
    ended_at: "Avslutat {{date}}",
    rounds: "Rundor",
    total_rounds: "{{count}} totalt",
    round_number: "Runda {{number}}",
    untitled: "Utan titel",
    final_scorecard: "Slutlig poänglista",
    aliases_count: "{{count}} alias",
    correct_picks: "{{count}} rätta svar",
    points_short: "{{count}} poäng",
    status_draft: "UTKAST",
    status_open: "ÖPPEN",
    status_closed: "STÄNGD",
    status_scored: "POÄNGSATT",
    status_active: "AKTIV",
    status_ended: "AVSLUTAD",
    role_host: "VÄRD",
    role_player: "SPELARE",
    live_camp_rounds: "Live-rundor",
    live_camp_description:
      "Gör snabba val för flera alias, följ röstfördelningen live och se topplistan uppdateras i realtid.",
    stat_players: "50-150 spelare på en gemensam tavla",
    stat_rolling_rounds: "Rullande rundor utan synlig historik",
    stat_display_token: "Separat publikvy-token för storbild",
    powered_by_realtime: "Drivs av Supabase Realtime",
    sign_out: "Logga ut",
    language: "Språk",
  },
};

export function translate(lang: Language, key: string, vars?: Record<string, string | number>) {
  const template = translations[lang][key] ?? translations.en[key] ?? key;
  if (!vars) return template;
  return Object.entries(vars).reduce((acc, [name, value]) => {
    return acc.replaceAll(`{{${name}}}`, String(value));
  }, template);
}
