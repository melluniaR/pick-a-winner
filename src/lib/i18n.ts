export type Language = "en" | "sv";

type Translations = Record<Language, Record<string, string>>;

export const translations: Translations = {
  en: {
    app_name: "Pick a Winner",
    sign_in: "Sign in",
    sign_up: "Create account",
    email: "Email",
    password: "Password",
    remember_me: "Remember me",
    enter_game_code: "Enter join code",
    join_game: "Join game",
    create_game: "Create new game",
    game_name: "Game name",
    my_games: "My games",
    enter_game: "Enter game",
    create_alias: "Create alias",
    alias_name: "Alias name",
    my_aliases: "My aliases",
    active_round: "Active round",
    waiting_round: "Waiting for the next round",
    hint: "Hint",
    select_aliases: "Select aliases",
    choose_option: "Choose an option",
    apply_vote: "Apply vote",
    vote_applied: "Vote applied",
    leaderboard: "Leaderboard",
    host_controls: "Host controls",
    open_round: "Open round",
    score_round: "Score round",
    correct_option: "Correct option",
    round_options: "Options",
    create_round: "Create round",
    round_title: "Round title",
    round_hint: "Round hint",
    add_option: "Add option",
    remove_option: "Remove",
    save_round: "Save round",
    total_votes: "Total votes",
    live_distribution: "Live distribution",
    display_screen: "Display screen",
    sign_out: "Sign out",
    language: "Language",
  },
  sv: {
    app_name: "Pick a Winner",
    sign_in: "Logga in",
    sign_up: "Skapa konto",
    email: "E-post",
    password: "Lösenord",
    remember_me: "Kom ihåg mig",
    enter_game_code: "Ange kod",
    join_game: "Gå med i spel",
    create_game: "Skapa nytt spel",
    game_name: "Spelnamn",
    my_games: "Mina spel",
    enter_game: "Gå till spel",
    create_alias: "Skapa alias",
    alias_name: "Aliasnamn",
    my_aliases: "Mina alias",
    active_round: "Aktiv runda",
    waiting_round: "Väntar på nästa runda",
    hint: "Ledtråd",
    select_aliases: "Välj alias",
    choose_option: "Välj alternativ",
    apply_vote: "Lägg röst",
    vote_applied: "Röst registrerad",
    leaderboard: "Topplista",
    host_controls: "Värdkontroller",
    open_round: "Öppna runda",
    score_round: "Räkna poäng",
    correct_option: "Rätt svar",
    round_options: "Alternativ",
    create_round: "Skapa runda",
    round_title: "Rundans titel",
    round_hint: "Rundans ledtråd",
    add_option: "Lägg till alternativ",
    remove_option: "Ta bort",
    save_round: "Spara runda",
    total_votes: "Totalt antal röster",
    live_distribution: "Livefördelning",
    display_screen: "Publikvy",
    sign_out: "Logga ut",
    language: "Språk",
  },
};

export function translate(lang: Language, key: string, vars?: Record<string, string | number>) {
  const template = translations[lang][key] ?? translations.en[key] ?? key;
  if (!vars) return template;
  return Object.entries(vars).reduce((acc, [name, value]) => {
    return acc.replaceAll(`{{${name}}}`, String(value));
  }, template);
}
